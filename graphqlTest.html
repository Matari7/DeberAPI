<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GraphQL</title>
</head>
<body>
  <h1>API GraphQL de Rick and Morty</h1>
  <div id="characters"></div>

  <script>
    const { ApolloClient, InMemoryCache, gql, HttpLink } = apolloClient;

    const API_URL = 'https://rickandmortyapi.com/graphql';

    const client = new ApolloClient({
      link: new HttpLink({ uri: API_URL }),
      cache: new InMemoryCache(),
    });

    const GET_CHARACTERS = gql`
      query GetCharacters($page: Int) {
        characters(page: $page) {
          results {
            id
            name
            status
            species
            gender
            image
          }
        }
      }
    `;

    function renderCharacters(characters) {
      const charactersDiv = document.getElementById('characters');
      charactersDiv.innerHTML = '';
      characters.forEach(character => {
        const characterElement = document.createElement('div');
        characterElement.innerHTML = `
          <h2>${character.name}</h2>
          <img src="${character.image}" alt="${character.name}" width="100">
          <p>Status: ${character.status}</p>
          <p>Species: ${character.species}</p>
          <p>Gender: ${character.gender}</p>
        `;
        charactersDiv.appendChild(characterElement);
      });
    }

    client.query({
      query: GET_CHARACTERS,
      variables: { page: 1 },
    }).then(response => {
      renderCharacters(response.data.characters.results);
    }).catch(error => {
      console.error('Error fetching characters:', error);
    });
  </script>
</body>
</html>
